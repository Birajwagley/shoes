(function($){$(document).ready(function(){collection.init()}),$(".engoj-collection-sidebar")&&History.Adapter.bind(window,"statechange",function(){var State=History.getState();if(!collection.fillterClick){collection.filterParams();var newurl=collection.filterCreateUrl();collection.filterGetContent(newurl),collection.resetFilter()}collection.fillterClick=!1});var collection={init:function(){this.initCollectionFilter()},initReview:function(){},initToggle:function(){},filterCategories:function(){},fillterTagEvents:function(){$("body").delegate('.filter-tag a:not(".clear"), .filter-tag label',"click",function(e){$(this).toggleClass("active");var currentTags=[];if(Shopify.queryParams.constraint&&(currentTags=Shopify.queryParams.constraint.split("+")),!window.filter_mul_choice&&!$(this).prev().is(":checked")){var otherTag=$(this).parents(".filter-tag").find("input:checked");if(otherTag.length>0){var tagName=otherTag.val();if(tagName){var tagPos=currentTags.indexOf(tagName);tagPos>=0&&currentTags.splice(tagPos,1)}}}var tagName=$(this).prev().val();if(tagName){var tagPos=currentTags.indexOf(tagName);tagPos>=0?currentTags.splice(tagPos,1):currentTags.push(tagName)}currentTags.length?Shopify.queryParams.constraint=currentTags.join("+"):delete Shopify.queryParams.constraint,collection.filterAjaxClick(),e.preventDefault()})},filterMapClearAll:function(){$("body").delegate("click",".refined-widgets a.clear-all",function(e){delete Shopify.queryParams.constraint,delete Shopify.queryParams.q,collection.filterAjaxClick(),e.preventDefault()}),$("body").delegate(".filter-block .clear","click",function(e){var currentTags=[],filterTag=$(this).parent().parent();Shopify.queryParams.constraint&&(currentTags=Shopify.queryParams.constraint.split("+")),filterTag.find("input:checked").each(function(){var selectedTag=$(this),tagName=selectedTag.val();if(tagName){var tagPos=currentTags.indexOf(tagName);tagPos>=0&&currentTags.splice(tagPos,1)}}),filterTag.find("a").each(function(){$(this).removeClass("active")}),currentTags.length?Shopify.queryParams.constraint=currentTags.join("+"):delete Shopify.queryParams.constraint,collection.filterAjaxClick(),e.preventDefault()})},filterMapClear:function(){$(".filter-tag").each(function(){var filterTag=$(this);filterTag.find("input:checked").length>0&&filterTag.find(".clear").show()})},filterParams:function(){if(Shopify.queryParams={},location.search.length)for(var aKeyValue,i=0,aCouples=location.search.substr(1).split("&");i<aCouples.length;i++)aKeyValue=aCouples[i].split("="),aKeyValue.length>1&&(Shopify.queryParams[decodeURIComponent(aKeyValue[0])]=decodeURIComponent(aKeyValue[1]))},filterMapEvents:function(){collection.fillterTagEvents()},resetFilter:function(){$(".filter-custom .active, .filter-links .active").removeClass("active"),$(".filter-tag input:checked").attr("checked",!1);var cat=location.pathname.match(/\/collections\/(.*)(\?)?/);cat&&cat[1]&&$(".filter-links a[href='"+cat[0]+"']").addClass("active")},filterMapData:function(data){var currentList=$(".grid-uniform"),productList=$(data).find(".grid-uniform");currentList.replaceWith(productList),$(".pagination").length>0&&$(".pagination").replaceWith($(data).find(".pagination")),$(".filter-blocks").replaceWith($(data).find(".filter-blocks")),collection.filterMapClear()},filterCreateUrl:function(baseLink){var newQuery=$.param(Shopify.queryParams).replace(/%2B/g,"+");return baseLink?newQuery!=""?baseLink+"?"+newQuery:baseLink:location.pathname+"?"+newQuery},filterAjaxClick:function(baseLink){delete Shopify.queryParams.page;var newurl=collection.filterCreateUrl(baseLink);collection.fillterClick=!0,History.pushState({param:Shopify.queryParams},newurl,newurl),collection.filterGetContent(newurl)},filterGetContent:function(newurl){$.ajax({type:"get",url:newurl,beforeSend:function(){showPopup(".loading")},success:function(data){collection.filterMapData(data),collection.filterMapClear(),$(".js-select-style").children().each(function(){$(this).hasClass("active")&&$(".js-col-"+$(this).attr("data-style")).removeClass("d-none")}),setTimeout(function(){$(".product-item-v1").each(function(){var id=$(this).attr("id"),id1="#"+id+" .js-mid-bt",id2="#"+id+" .js-product-thumbnail-bt";$(id1).hasClass("slick-slider")&&$(id1).slick("unslick"),$(id2).hasClass("slick-slider")&&$(id2).slick("unslick"),$(id1).slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:id2}),$(id2).slick({slidesToShow:3,slidesToScroll:1,arrows:!0,asNavFor:id1,dots:!1,focusOnSelect:!0,prevArrow:'<i class="slick-product-prev lnr lnr-chevron-left"></i>',nextArrow:'<i class="slick-product-next lnr lnr-chevron-right"></i>',responsive:[{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:1}}]})}),$(".product-item-v3").each(function(){var id=$(this).attr("id"),id1="#"+id+" .js-mid",id2="#"+id+" .js-product-thumbnail";$(id1).hasClass("slick-slider")&&$(id1).slick("unslick"),$(id2).hasClass("slick-slider")&&$(id2).slick("unslick"),$(id1).slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:id2}),$(id2).slick({slidesToShow:3,slidesToScroll:1,arrows:!0,asNavFor:id1,dots:!1,vertical:!0,verticalSwiping:!0,focusOnSelect:!0,prevArrow:'<i class="slick-product-prev lnr lnr-chevron-up"></i>',nextArrow:'<i class="slick-product-next lnr lnr-chevron-down"></i>',responsive:[{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:1,vertical:!1,verticalSwiping:!1}}]})})},300),hidePopup(".loading")},error:function(xhr,text){hidePopup(".loading"),$(".ajax-error-message").text($.parseJSON(xhr.responseText).description),showPopup(".ajax-error-modal")}})},initCollectionFilter:function(){$(".engoj-collection-sidebar").length>0&&(collection.filterParams(),collection.filterMapEvents(),collection.filterMapClear(),collection.filterMapClearAll())},initCollectionSorting:function(e){},initCollectionViewMode:function(){},initCollectionShow:function(){},initPaging:function(){}}})(jQuery);
//# sourceMappingURL=/cdn/shop/t/18/assets/collection.js.map?v=3446060831680285541573292110
